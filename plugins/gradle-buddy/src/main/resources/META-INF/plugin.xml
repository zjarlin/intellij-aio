<idea-plugin>
    <id>site.addzero.gradle-buddy</id>
    <name>Gradle Buddy</name>
    <vendor>AddZero</vendor>
    <description>
        A plugin that helps you manage Gradle projects by showing an indicator when a project is not loaded.
        When you open a file in a Gradle project that hasn't been loaded, it shows an indicator in the status bar
        to remind you to load the Gradle project.

        Features:
        - On-demand module loading
        - Auto-release unused modules
        - Migrate project() dependencies to Maven artifacts
    </description>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.plugins.gradle</depends>

    <extensions defaultExtensionNs="com.intellij">
        <postStartupActivity implementation="site.addzero.gradle.buddy.GradleBuddyPlugin"/>
        
        <!-- Notification Group -->
        <notificationGroup id="GradleBuddy" displayType="BALLOON" isLogByDefault="true"/>
    </extensions>

    <actions>
        <action id="GradleBuddy.MigrateProjectDependencies"
                class="site.addzero.gradle.buddy.migration.MigrateProjectDependenciesAction"
                text=" Migrate Projects Dependencies then Replacewith Mavencentral Dependencies"
                description="Scan project() dependencies and replace them with Maven artifacts">
            <add-to-group group-id="ToolsMenu" anchor="last"/>
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
        </action>
        
        <!-- Gradle Task Favorites - Right-click menu in Gradle panel -->
        <action id="GradleBuddy.AddToFavorites"
                class="site.addzero.gradle.buddy.favorites.AddToFavoritesAction"
                text="Add to Favorites"
                icon="AllIcons.Nodes.Favorite"
                description="Add this Gradle task to favorites">
            <add-to-group group-id="ExternalSystemView.ActionsToolbar" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ActionsToolbar.CenterPanel" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ActionsToolbar.RightPanel" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ProjectMenu" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ModuleMenu" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.TaskMenu" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.RunMenu" anchor="last"/>
            <add-to-group group-id="Gradle.TaskActionsGroup" anchor="last"/>
        </action>
        
        <action id="GradleBuddy.RemoveFromFavorites"
                class="site.addzero.gradle.buddy.favorites.RemoveFromFavoritesAction"
                text="Remove from Favorites"
                icon="AllIcons.Actions.GC"
                description="Remove this Gradle task from favorites">
            <add-to-group group-id="ExternalSystemView.ActionsToolbar" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ActionsToolbar.CenterPanel" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ActionsToolbar.RightPanel" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ProjectMenu" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.ModuleMenu" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.TaskMenu" anchor="last"/>
            <add-to-group group-id="ExternalSystemView.RunMenu" anchor="last"/>
            <add-to-group group-id="Gradle.TaskActionsGroup" anchor="last"/>
        </action>
    </actions>

    <applicationListeners>
        <listener class="site.addzero.gradle.buddy.GradleBuddyProjectManagerListener"
                  topic="com.intellij.openapi.project.ProjectCloseListener"/>
    </applicationListeners>
</idea-plugin>
