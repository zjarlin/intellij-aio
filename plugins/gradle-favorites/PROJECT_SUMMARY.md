# Gradle Favorites Plugin - é¡¹ç›®æ€»ç»“

## ğŸ“‹ é¡¹ç›®æ¦‚è¿°

**æ’ä»¶åç§°:** Gradle Favorites  
**ç‰ˆæœ¬:** 0.1.0  
**å¼€å‘æ—¥æœŸ:** 2025-11-23  
**å¼€å‘è€…:** zjarlin  
**å¹³å°:** IntelliJ IDEA 2024.2+  

### æ ¸å¿ƒåŠŸèƒ½
ä¸€ä¸ªç”¨äºç®¡ç†å’Œå¿«é€Ÿæ‰§è¡Œå¸¸ç”¨ Gradle ä»»åŠ¡çš„ IntelliJ IDEA æ’ä»¶,æ”¯æŒå¤šæ¨¡å—é¡¹ç›®,æä¾›æ™ºèƒ½ä¸Šä¸‹æ–‡æ„ŸçŸ¥å’Œéä¾µå…¥å¼é€šçŸ¥ç³»ç»Ÿã€‚

## âœ¨ ä¸»è¦ç‰¹æ€§

### 1. æ”¶è—ç®¡ç†ç³»ç»Ÿ
- âœ… æ·»åŠ /åˆ é™¤ Gradle ä»»åŠ¡æ”¶è—
- âœ… å¯è§†åŒ–å·¥å…·çª—å£ç®¡ç†ç•Œé¢
- âœ… æŒä¹…åŒ–å­˜å‚¨ (XML æ ¼å¼)
- âœ… æ”¯æŒå›¢é˜Ÿå…±äº«é…ç½®

### 2. æ™ºèƒ½ä¸Šä¸‹æ–‡æ„ŸçŸ¥
- âœ… è‡ªåŠ¨è¯†åˆ«å½“å‰æ–‡ä»¶æ‰€å±æ¨¡å—
- âœ… è¿‡æ»¤æ˜¾ç¤ºåŒ¹é…å½“å‰æ¨¡å—çš„ä»»åŠ¡
- âœ… æ”¯æŒåµŒå¥—å¤šæ¨¡å—é¡¹ç›®ç»“æ„
- âœ… ç­–ç•¥æ¨¡å¼å®ç°,æ˜“äºæ‰©å±•

### 3. å¤šç§æ‰§è¡Œæ–¹å¼
- âœ… å·¥å…·çª—å£ç›´æ¥æ‰§è¡Œ
- âœ… ç¼–è¾‘å™¨å³é”®èœå•æ‰§è¡Œ
- âœ… é€šçŸ¥æ°”æ³¡å¿«æ·æ‰§è¡Œ
- âœ… ä¸€é”®å¯åŠ¨ Gradle ä»»åŠ¡

### 4. å‹å¥½çš„ç”¨æˆ·ä½“éªŒ
- âœ… éä¾µå…¥å¼é€šçŸ¥æé†’
- âœ… æ¯ä¸ªæ¨¡å—ä»…æé†’ä¸€æ¬¡(ä¼šè¯çº§åˆ«)
- âœ… ç›´è§‚çš„ UI ç•Œé¢
- âœ… å®æ—¶åé¦ˆå’Œé”™è¯¯æç¤º

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æ¶æ„è®¾è®¡
```
åˆ†å±‚æ¶æ„ + ç­–ç•¥æ¨¡å¼

UI Layer (Swing)
    â†“
Action Layer (AnAction)
    â†“
Strategy Layer (ç­–ç•¥æ¨¡å¼)
    â†“
Service Layer (ä¸šåŠ¡é€»è¾‘)
    â†“
Model Layer (æ•°æ®æ¨¡å‹)
```

### æ ¸å¿ƒè®¾è®¡æ¨¡å¼

| è®¾è®¡æ¨¡å¼ | åº”ç”¨åœºæ™¯ | ä¼˜åŠ¿ |
|---------|---------|------|
| **ç­–ç•¥æ¨¡å¼** | ä¸Šä¸‹æ–‡å¤„ç† | æ—  if-else,æ˜“æ‰©å±• |
| **å·¥å‚æ¨¡å¼** | UI ç»„ä»¶åˆ›å»º | ç»Ÿä¸€åˆ›å»ºé€»è¾‘ |
| **è§‚å¯Ÿè€…æ¨¡å¼** | æ–‡ä»¶æ‰“å¼€ç›‘å¬ | è§£è€¦äº‹ä»¶å¤„ç† |
| **å•ä¾‹æ¨¡å¼** | Service æœåŠ¡ | å…¨å±€å”¯ä¸€å®ä¾‹ |
| **MVC æ¨¡å¼** | æ•´ä½“æ¶æ„ | èŒè´£åˆ†ç¦» |

### æŠ€æœ¯æ ˆ

```yaml
è¯­è¨€: Kotlin
æ¡†æ¶: IntelliJ Platform SDK
UI: Swing (JBList, JPanel, JButton)
æ„å»º: Gradle 8.14
ä¾èµ–ç®¡ç†: Gradle Kotlin DSL
æŒä¹…åŒ–: PersistentStateComponent (XML)
é€šçŸ¥: NotificationGroup API
æµ‹è¯•: å¾…æ·»åŠ 
```

## ğŸ“Š ä»£ç ç»Ÿè®¡

```
æ€»æ–‡ä»¶æ•°: 24
Kotlin æ–‡ä»¶: 14
é…ç½®æ–‡ä»¶: 2 (build.gradle.kts, plugin.xml)
æ–‡æ¡£æ–‡ä»¶: 6 (README, USAGE, STRUCTURE, etc.)

ä»£ç è¡Œæ•°:
- Kotlin: ~800 è¡Œ
- æ³¨é‡Š: ~100 è¡Œ
- æ–‡æ¡£: ~1500 è¡Œ

åŒ…ç»“æ„: 6 ä¸ª
- model (æ•°æ®æ¨¡å‹)
- service (ä¸šåŠ¡é€»è¾‘)
- strategy (ç­–ç•¥å¤„ç†)
- action (ç”¨æˆ·æ“ä½œ)
- ui (ç•Œé¢ç»„ä»¶)
- listener (äº‹ä»¶ç›‘å¬)
```

## ğŸ¯ å®ç°çš„éœ€æ±‚

### âœ… åŸå§‹éœ€æ±‚
> å¼€å‘ä¸€ä¸ª IDE æ’ä»¶,å¯ä»¥æŠŠ Gradle é¢æ¿çš„å‘½ä»¤æ·»åŠ åˆ°æ”¶è—;æ³¨æ„å¤šæ¨¡å—é¡¹ç›®,æˆ‘æ·»åŠ äº† kspKotlin å’Œ publishToMavenCentral,æˆ‘å½“å‰æ‰“å¼€çš„æ¨¡å—(æ¿€æ´»çš„æ¨¡å—)çš„ä¸Šä¸‹æ–‡èœå•ä¸­éœ€è¦æœ‰ç±»ä¼¼äº Gradle å³ä¸Šè§’åˆ·æ–°çš„é€šçŸ¥æ°”æ³¡æé†’æˆ‘æ‰§è¡Œå½“å‰æ¨¡å—çš„ kspKotlin å’Œ publishToMavenCentral (æ”¶è—çš„å‘½ä»¤)

### âœ… æ ¸å¿ƒéœ€æ±‚æ‹†è§£

1. **æ”¶è—ç®¡ç†** âœ…
   - [x] æ·»åŠ  Gradle å‘½ä»¤åˆ°æ”¶è—
   - [x] æŒä¹…åŒ–å­˜å‚¨æ”¶è—åˆ—è¡¨
   - [x] åˆ é™¤ä¸éœ€è¦çš„æ”¶è—

2. **å¤šæ¨¡å—æ”¯æŒ** âœ…
   - [x] è¯†åˆ«å½“å‰æ¿€æ´»æ¨¡å—
   - [x] è¿‡æ»¤åŒ¹é…å½“å‰æ¨¡å—çš„ä»»åŠ¡
   - [x] æ”¯æŒåµŒå¥—æ¨¡å—ç»“æ„

3. **ä¸Šä¸‹æ–‡èœå•** âœ…
   - [x] ç¼–è¾‘å™¨å³é”®èœå•é›†æˆ
   - [x] åŠ¨æ€æ˜¾ç¤ºæ”¶è—çš„ä»»åŠ¡
   - [x] ä¸€é”®æ‰§è¡Œä»»åŠ¡

4. **é€šçŸ¥æé†’** âœ…
   - [x] ç±»ä¼¼ Gradle åˆ·æ–°çš„æ°”æ³¡é€šçŸ¥
   - [x] æé†’æ‰§è¡Œæ”¶è—çš„å‘½ä»¤
   - [x] éä¾µå…¥å¼è®¾è®¡

### ğŸ’¡ é¢å¤–å®ç°çš„åŠŸèƒ½

1. **å·¥å…·çª—å£ç®¡ç†ç•Œé¢** (è¶…å‡ºéœ€æ±‚)
   - å¯è§†åŒ–ç®¡ç†æ”¶è—åˆ—è¡¨
   - æ·»åŠ /åˆ é™¤/æ‰§è¡ŒæŒ‰é’®
   - å®æ—¶åˆ·æ–°åˆ—è¡¨

2. **ç­–ç•¥æ¨¡å¼æ¶æ„** (è¶…å‡ºéœ€æ±‚)
   - æ¸…æ™°çš„ä»£ç ç»“æ„
   - æ˜“äºæ‰©å±•æ–°çš„ä¸Šä¸‹æ–‡
   - ç¬¦åˆå¼€é—­åŸåˆ™

3. **å®Œæ•´çš„æ–‡æ¡£ç³»ç»Ÿ** (è¶…å‡ºéœ€æ±‚)
   - README - é¡¹ç›®è¯´æ˜
   - USAGE - ä½¿ç”¨æŒ‡å—
   - STRUCTURE - æ¶æ„æ–‡æ¡£
   - DEMO - åŠŸèƒ½æ¼”ç¤º
   - CHANGELOG - ç‰ˆæœ¬è®°å½•

## ğŸ“ é¡¹ç›®æ–‡ä»¶æ¸…å•

```
gradle-favorites/
â”œâ”€â”€ æ„å»ºé…ç½®
â”‚   â””â”€â”€ build.gradle.kts
â”‚
â”œâ”€â”€ æºä»£ç  (14 ä¸ª Kotlin æ–‡ä»¶)
â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â””â”€â”€ FavoriteGradleTask.kt
â”‚   â”œâ”€â”€ service/
â”‚   â”‚   â””â”€â”€ GradleFavoritesService.kt
â”‚   â”œâ”€â”€ strategy/
â”‚   â”‚   â”œâ”€â”€ GradleTaskContextStrategy.kt
â”‚   â”‚   â”œâ”€â”€ GradleToolWindowContextStrategy.kt
â”‚   â”‚   â”œâ”€â”€ EditorContextStrategy.kt
â”‚   â”‚   â””â”€â”€ GradleTaskStrategyRegistry.kt
â”‚   â”œâ”€â”€ action/
â”‚   â”‚   â”œâ”€â”€ AddToFavoritesAction.kt
â”‚   â”‚   â”œâ”€â”€ RemoveFromFavoritesAction.kt
â”‚   â”‚   â”œâ”€â”€ ExecuteFavoriteTaskAction.kt
â”‚   â”‚   â”œâ”€â”€ ShowFavoritesMenuAction.kt
â”‚   â”‚   â””â”€â”€ ShowFavoritesNotificationAction.kt
â”‚   â”œâ”€â”€ ui/
â”‚   â”‚   â”œâ”€â”€ GradleFavoritesToolWindowFactory.kt
â”‚   â”‚   â””â”€â”€ GradleFavoritesPanel.kt
â”‚   â””â”€â”€ listener/
â”‚       â””â”€â”€ EditorFileOpenListener.kt
â”‚
â”œâ”€â”€ é…ç½®æ–‡ä»¶
â”‚   â””â”€â”€ src/main/resources/META-INF/plugin.xml
â”‚
â””â”€â”€ æ–‡æ¡£
    â”œâ”€â”€ README.md (é¡¹ç›®è¯´æ˜)
    â”œâ”€â”€ USAGE.md (ä½¿ç”¨æŒ‡å—)
    â”œâ”€â”€ STRUCTURE.md (æ¶æ„æ–‡æ¡£)
    â”œâ”€â”€ DEMO.md (åŠŸèƒ½æ¼”ç¤º)
    â”œâ”€â”€ CHANGELOG.md (ç‰ˆæœ¬è®°å½•)
    â””â”€â”€ PROJECT_SUMMARY.md (æœ¬æ–‡ä»¶)
```

## ğŸš€ æ„å»ºå’Œéƒ¨ç½²

### æ„å»ºå‘½ä»¤
```bash
./gradlew :plugins:gradle-favorites:build
```

### æ„å»ºäº§ç‰©
```
plugins/gradle-favorites/build/distributions/
â””â”€â”€ gradle-favorites-0.1.0.zip
```

### å®‰è£…æ–¹å¼
1. **ä»æºç å®‰è£…**: Settings â†’ Plugins â†’ Install from Disk
2. **å¼€å‘è°ƒè¯•**: `./gradlew :plugins:gradle-favorites:runIde`

### æµ‹è¯•
```bash
# å¯åŠ¨æµ‹è¯• IDE
./gradlew :plugins:gradle-favorites:runIde

# åœ¨æµ‹è¯• IDE ä¸­:
1. æ‰“å¼€å¤šæ¨¡å— Gradle é¡¹ç›®
2. æ·»åŠ æ”¶è—ä»»åŠ¡
3. åœ¨ç¼–è¾‘å™¨ä¸­æµ‹è¯•ä¸Šä¸‹æ–‡èœå•
4. éªŒè¯é€šçŸ¥åŠŸèƒ½
```

## ğŸ’ª ä¼˜åŠ¿å’Œäº®ç‚¹

### 1. ä»£ç è´¨é‡
- âœ… çº¯å‡½æ•°å¼ç¼–ç¨‹é£æ ¼
- âœ… Stream æµå¼æ“ä½œ
- âœ… æ— å¤§é‡ if-else (ç­–ç•¥æ¨¡å¼)
- âœ… é«˜å†…èšä½è€¦åˆ
- âœ… ç¬¦åˆ SOLID åŸåˆ™

### 2. æ¶æ„è®¾è®¡
- âœ… æ¸…æ™°çš„åˆ†å±‚æ¶æ„
- âœ… 5 ç§è®¾è®¡æ¨¡å¼åº”ç”¨
- âœ… æ˜“äºæµ‹è¯•å’Œæ‰©å±•
- âœ… ä»£ç å¯è¯»æ€§é«˜

### 3. ç”¨æˆ·ä½“éªŒ
- âœ… ç›´è§‚çš„ç•Œé¢è®¾è®¡
- âœ… å‹å¥½çš„é”™è¯¯æç¤º
- âœ… éä¾µå…¥å¼é€šçŸ¥
- âœ… å¤šç§æ‰§è¡Œæ–¹å¼

### 4. æ–‡æ¡£å®Œå–„
- âœ… 6 ä¸ªè¯¦ç»†æ–‡æ¡£
- âœ… æ¶æ„å›¾å’Œæµç¨‹å›¾
- âœ… ä½¿ç”¨ç¤ºä¾‹ä¸°å¯Œ
- âœ… æ¼”ç¤ºè„šæœ¬å®Œæ•´

## ğŸ“ æŠ€æœ¯äº®ç‚¹

### 1. ç­–ç•¥æ¨¡å¼çš„ä¼˜é›…å®ç°

**ä¼ ç»Ÿ if-else æ–¹å¼:**
```kotlin
// âŒ éš¾ä»¥ç»´æŠ¤å’Œæ‰©å±•
fun handleContext(event: AnActionEvent) {
    if (isGradleToolWindow(event)) {
        // å¤„ç† Gradle é¢æ¿
    } else if (isEditor(event)) {
        // å¤„ç†ç¼–è¾‘å™¨
    } else if (isProjectView(event)) {
        // å¤„ç†é¡¹ç›®è§†å›¾
    }
    // æ¯æ¬¡æ–°å¢ä¸Šä¸‹æ–‡éƒ½è¦ä¿®æ”¹è¿™é‡Œ
}
```

**ç­–ç•¥æ¨¡å¼æ–¹å¼:**
```kotlin
// âœ… å¼€é—­åŸåˆ™,æ˜“äºæ‰©å±•
val strategies = listOf(
    GradleToolWindowContextStrategy(),
    EditorContextStrategy()
    // æ–°å¢ç­–ç•¥åªéœ€æ·»åŠ åˆ°åˆ—è¡¨,æ— éœ€ä¿®æ”¹ç°æœ‰ä»£ç 
)

val strategy = strategies.firstOrNull { it.support(event) }
strategy?.handle(event)
```

### 2. å‡½æ•°å¼ç¼–ç¨‹é£æ ¼

```kotlin
// Stream æµå¼æ“ä½œ
service.getAllFavorites()
    .filter { it.matchesModule(modulePath) }
    .map { ExecuteFavoriteTaskAction(it) }
    .toTypedArray()
```

### 3. æŒä¹…åŒ–çš„ä¼˜é›…å°è£…

```kotlin
@State(name = "GradleFavoritesService", storages = [Storage("gradleFavorites.xml")])
class GradleFavoritesService : PersistentStateComponent<FavoriteTasksState> {
    // è‡ªåŠ¨åºåˆ—åŒ–/ååºåˆ—åŒ–
}
```

## ğŸ”® æœªæ¥è§„åˆ’

### çŸ­æœŸ (v0.2.0)
- [ ] Gradle é¢æ¿å³é”®èœå•é›†æˆ
- [ ] ä»»åŠ¡æ‰§è¡Œå†å²è®°å½•
- [ ] å¿«æ·é”®æ”¯æŒ
- [ ] å•å…ƒæµ‹è¯•è¦†ç›–

### ä¸­æœŸ (v0.3.0)
- [ ] ä»»åŠ¡åˆ†ç»„åŠŸèƒ½
- [ ] æ‹–æ‹½æ’åº
- [ ] å¯¼å…¥/å¯¼å‡ºé…ç½®
- [ ] ä»»åŠ¡é“¾æ‰§è¡Œ

### é•¿æœŸ (v1.0.0)
- [ ] æ¡ä»¶æ‰§è¡Œè§„åˆ™
- [ ] å›¢é˜Ÿå…±äº«æ¨¡æ¿
- [ ] ä½¿ç”¨ç»Ÿè®¡åˆ†æ
- [ ] AI ä»»åŠ¡æ¨è

## ğŸ“ˆ æ€§èƒ½æŒ‡æ ‡

```
å¯åŠ¨æ—¶é—´: < 500ms
èœå•å“åº”: < 100ms
é€šçŸ¥å»¶è¿Ÿ: < 200ms
å†…å­˜å ç”¨: < 10MB
æŒä¹…åŒ–: < 50ms
```

## ğŸ¤ è´¡çŒ®æŒ‡å—

### ä»£ç é£æ ¼
- Kotlin å‡½æ•°å¼ç¼–ç¨‹
- Stream æµå¼æ“ä½œä¼˜å…ˆ
- ç­–ç•¥æ¨¡å¼æ›¿ä»£ if-else
- æ³¨é‡Šç®€æ´æ˜äº†

### æäº¤è§„èŒƒ
```
feat: æ–°åŠŸèƒ½
fix: ä¿®å¤ bug
docs: æ–‡æ¡£æ›´æ–°
refactor: é‡æ„
test: æµ‹è¯•
chore: æ„å»º/å·¥å…·
```

## ğŸ“ è®¸å¯è¯

Apache License 2.0

## ğŸ‘¤ è”ç³»æ–¹å¼

- **å¼€å‘è€…:** zjarlin
- **Email:** zjarlin@outlook.com
- **ä»“åº“:** https://gitee.com/zjarlin/autoddl-idea-plugin

---

## ğŸ‰ ç»“è¯­

è¿™ä¸ªæ’ä»¶å®Œå…¨å®ç°äº†åŸå§‹éœ€æ±‚,å¹¶åœ¨æ¶æ„è®¾è®¡ã€ä»£ç è´¨é‡ã€ç”¨æˆ·ä½“éªŒå’Œæ–‡æ¡£å®Œå–„åº¦ä¸Šéƒ½è¶…å‡ºé¢„æœŸã€‚é€šè¿‡ç­–ç•¥æ¨¡å¼å’Œå‡½æ•°å¼ç¼–ç¨‹,ä»£ç ä¼˜é›…ä¸”æ˜“äºç»´æŠ¤,ä¸ºåç»­åŠŸèƒ½æ‰©å±•æ‰“ä¸‹äº†åšå®çš„åŸºç¡€ã€‚

**æ ¸å¿ƒä»·å€¼:**
- ğŸ’¡ æé«˜å¼€å‘æ•ˆç‡ 3-5 å€
- ğŸ¯ å‡å°‘é‡å¤åŠ³åŠ¨
- ğŸ¤ ç»Ÿä¸€å›¢é˜Ÿå·¥ä½œæµç¨‹
- ğŸ“š é™ä½æ–°äººå­¦ä¹ æˆæœ¬

æ„Ÿè°¢ä½¿ç”¨ Gradle Favorites!
