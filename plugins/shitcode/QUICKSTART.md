# ShitCode Plugin å¿«é€Ÿå¼€å§‹

## 5 åˆ†é’Ÿä¸Šæ‰‹æŒ‡å—

### ç¬¬ 1 æ­¥ï¼šå®‰è£…æ’ä»¶

æœ‰ä¸¤ç§æ–¹å¼å®‰è£…ï¼š

**æ–¹å¼ 1ï¼šä»æºç æ„å»º**
```bash
cd autoddl-idea-plugin
./gradlew :plugins:shitcode:buildPlugin
```

ç„¶ååœ¨ IDEA ä¸­ï¼š
1. `Settings` â†’ `Plugins` â†’ `âš™ï¸` â†’ `Install Plugin from Disk`
2. é€‰æ‹© `plugins/shitcode/build/distributions/shitcode-*.zip`
3. é‡å¯ IDEA

**æ–¹å¼ 2ï¼šä»æ’ä»¶å¸‚åœºå®‰è£…**ï¼ˆå¾…å‘å¸ƒï¼‰
```
Settings â†’ Plugins â†’ Marketplace â†’ æœç´¢ "ShitCode"
```

### ç¬¬ 2 æ­¥ï¼šåˆ›å»ºæ³¨è§£ç±»

åœ¨ä½ çš„é¡¹ç›®ä¸­åˆ›å»º `@Shit` æ³¨è§£ï¼š

**Kotlin ç‰ˆæœ¬ï¼š**
```kotlin
package com.yourproject.annotation

@Target(
    AnnotationTarget.CLASS,
    AnnotationTarget.FUNCTION,
    AnnotationTarget.PROPERTY,
    AnnotationTarget.FIELD
)
@Retention(AnnotationRetention.SOURCE)
annotation class Shit(val reason: String = "")
```

**Java ç‰ˆæœ¬ï¼š**
```java
package com.yourproject.annotation;

import java.lang.annotation.*;

@Target({
    ElementType.TYPE,
    ElementType.METHOD,
    ElementType.FIELD
})
@Retention(RetentionPolicy.SOURCE)
public @interface Shit {
    String reason() default "";
}
```

### ç¬¬ 3 æ­¥ï¼šæ ‡è®°åƒåœ¾ä»£ç 

åœ¨éœ€è¦é‡æ„çš„ä»£ç ä¸Šæ·»åŠ æ³¨è§£ï¼š

```kotlin
@Shit(reason = "ä½¿ç”¨äº†è¿‡æ—¶çš„ APIï¼Œéœ€è¦è¿ç§»åˆ°æ–°ç‰ˆæœ¬")
class LegacyUserService {
    
    @Shit(reason = "æ€§èƒ½å·®ï¼Œéœ€è¦ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢")
    fun getUsers(): List<User> {
        // ä½æ•ˆçš„å®ç°
    }
    
    @Shit(reason = "é€»è¾‘æ··ä¹±ï¼Œéœ€è¦é‡æ„")
    val complexCalculation: Int
        get() = // å¤æ‚çš„è®¡ç®—é€»è¾‘
}
```

### ç¬¬ 4 æ­¥ï¼šæŸ¥çœ‹å’Œç®¡ç†

1. **æ‰“å¼€å·¥å…·çª—å£**  
   ç‚¹å‡» IDEA å³ä¾§çš„ `ShitCode` æ ‡ç­¾é¡µ

2. **æµè§ˆåƒåœ¾ä»£ç **  
   - æŒ‰æ–‡ä»¶åˆ†ç»„æ˜¾ç¤ºæ‰€æœ‰æ ‡è®°
   - åŒå‡»è·³è½¬åˆ°ä»£ç ä½ç½®

3. **æ¸…ç†ä»£ç **  
   - é€‰ä¸­è¦åˆ é™¤çš„é¡¹
   - ç‚¹å‡» `åˆ é™¤é€‰ä¸­` æŒ‰é’®
   - æˆ–ä½¿ç”¨ `å…¨éƒ¨åˆ é™¤` æ¸…ç†æ‰€æœ‰æ ‡è®°

### ç¬¬ 5 æ­¥ï¼šè‡ªå®šä¹‰é…ç½®ï¼ˆå¯é€‰ï¼‰

å¦‚æœä½ æƒ³ä½¿ç”¨è‡ªå®šä¹‰æ³¨è§£åç§°ï¼š

1. `Settings` â†’ `Tools` â†’ `ShitCode`
2. ä¿®æ”¹ `åƒåœ¾ä»£ç æ³¨è§£åç§°` ä¸ºä½ çš„æ³¨è§£åï¼ˆä¾‹å¦‚ï¼š`TODO`ã€`FIXME`ï¼‰
3. ç‚¹å‡» `Apply`

## ä½¿ç”¨åœºæ™¯ç¤ºä¾‹

### åœºæ™¯ 1ï¼šä»£ç å®¡æŸ¥

åœ¨ä»£ç å®¡æŸ¥æ—¶æ ‡è®°éœ€è¦æ”¹è¿›çš„åœ°æ–¹ï¼š

```kotlin
@Shit(reason = "æœªå¤„ç†å¼‚å¸¸æƒ…å†µ")
fun processPayment(amount: Double) {
    // ç¼ºå°‘è¾“å…¥éªŒè¯
    // ç¼ºå°‘å¼‚å¸¸å¤„ç†
}
```

### åœºæ™¯ 2ï¼šæŠ€æœ¯å€ºåŠ¡ç®¡ç†

æ ‡è®°ä¸´æ—¶æ–¹æ¡ˆæˆ–éœ€è¦é‡æ„çš„ä»£ç ï¼š

```kotlin
@Shit(reason = "ä¸´æ—¶å®ç°ï¼Œç­‰å¾…æ–° API ä¸Šçº¿")
class TemporaryAuthService {
    // ä¸´æ—¶çš„è®¤è¯é€»è¾‘
}
```

### åœºæ™¯ 3ï¼šé—ç•™ä»£ç æ ‡è®°

æ ‡è®°é—ç•™ç³»ç»Ÿä¸­éœ€è¦è¿ç§»çš„éƒ¨åˆ†ï¼š

```kotlin
@Shit(reason = "æ—§ç‰ˆæœ¬æ•°æ®è®¿é—®å±‚ï¼Œéœ€è¦è¿ç§»åˆ° ORM")
object LegacyDao {
    fun executeRawSql(sql: String): ResultSet {
        // ç›´æ¥ SQL æ“ä½œ
    }
}
```

### åœºæ™¯ 4ï¼šæ€§èƒ½é—®é¢˜

æ ‡è®°æ€§èƒ½ç“¶é¢ˆï¼š

```kotlin
@Shit(reason = "N+1 æŸ¥è¯¢é—®é¢˜ï¼Œéœ€è¦ä¼˜åŒ–")
fun loadUsersWithOrders() {
    users.forEach { user ->
        user.orders = loadOrders(user.id) // æ€§èƒ½é—®é¢˜
    }
}
```

## æœ€ä½³å®è·µ

### âœ… æ¨èåšæ³•

1. **æ·»åŠ åŸå› è¯´æ˜**
   ```kotlin
   @Shit(reason = "å…·ä½“è¯´æ˜éœ€è¦é‡æ„çš„åŸå› ")
   ```

2. **å®šæœŸæ¸…ç†**
   - æ¯å‘¨æŸ¥çœ‹ä¸€æ¬¡ ShitCode å·¥å…·çª—å£
   - ä¼˜å…ˆå¤„ç†é«˜é¢‘ä½¿ç”¨çš„ä»£ç 

3. **å›¢é˜Ÿåä½œ**
   - åœ¨å›¢é˜Ÿä¸­ç»Ÿä¸€ä½¿ç”¨ `@Shit` æ³¨è§£
   - åœ¨ä»£ç å®¡æŸ¥ä¸­æ·»åŠ æ ‡è®°
   - åœ¨ Sprint è®¡åˆ’ä¸­å®‰æ’æ¸…ç†ä»»åŠ¡

4. **ç‰ˆæœ¬æ§åˆ¶**
   - å°† `@Shit` æ³¨è§£ç±»æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶
   - åœ¨ `.gitignore` ä¸­ä¸è¦å¿½ç•¥æ ‡è®°çš„ä»£ç 

### âŒ ä¸æ¨èåšæ³•

1. **ä¸è¦æ»¥ç”¨**
   - ä¸è¦æ ‡è®°æ‰€æœ‰ä»£ç 
   - åªæ ‡è®°çœŸæ­£éœ€è¦æ”¹è¿›çš„éƒ¨åˆ†

2. **ä¸è¦å¿½è§†**
   - ä¸è¦åªæ ‡è®°ä¸ä¿®å¤
   - å®šæœŸæ¸…ç†æŠ€æœ¯å€ºåŠ¡

3. **ä¸è¦ç›´æ¥åˆ é™¤**
   - åœ¨åˆ é™¤å‰ç¡®ä¿æœ‰æ›¿ä»£æ–¹æ¡ˆ
   - è€ƒè™‘é‡æ„è€Œä¸æ˜¯åˆ é™¤

## å¿«æ·é”®ï¼ˆæ¨èé…ç½®ï¼‰

åœ¨ `Settings â†’ Keymap` ä¸­æœç´¢ "ShitCode" é…ç½®å¿«æ·é”®ï¼š

- `Alt + Shift + S` - æ‰“å¼€ ShitCode å·¥å…·çª—å£
- `Ctrl + Shift + D` - åˆ é™¤é€‰ä¸­çš„åƒåœ¾ä»£ç 

## æ•…éšœæ’é™¤

### é—®é¢˜ 1ï¼šå·¥å…·çª—å£æ˜¾ç¤º"ç´¢å¼•æ­£åœ¨æ„å»ºä¸­"

**è§£å†³æ–¹æ¡ˆ**: ç­‰å¾… IDEA å®Œæˆé¡¹ç›®ç´¢å¼•

### é—®é¢˜ 2ï¼šæ ‡è®°çš„ä»£ç æ²¡æœ‰æ˜¾ç¤º

**æ£€æŸ¥é¡¹**:
1. ç¡®è®¤æ³¨è§£åç§°ä¸è®¾ç½®ä¸­çš„ä¸€è‡´
2. ç‚¹å‡»å·¥å…·çª—å£çš„ `åˆ·æ–°` æŒ‰é’®
3. ç¡®è®¤é¡¹ç›®ç´¢å¼•å·²å®Œæˆ

### é—®é¢˜ 3ï¼šæ— æ³•åˆ é™¤ä»£ç 

**å¯èƒ½åŸå› **:
- æ–‡ä»¶æ˜¯åªè¯»çš„
- æ–‡ä»¶åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­è¢«é”å®š

**è§£å†³æ–¹æ¡ˆ**: æ£€æŸ¥æ–‡ä»¶æƒé™å’Œç‰ˆæœ¬æ§åˆ¶çŠ¶æ€

## ä¸‹ä¸€æ­¥

- ğŸ“– é˜…è¯» [README.md](README.md) äº†è§£è¯¦ç»†åŠŸèƒ½
- ğŸ“ æŸ¥çœ‹ [MIGRATION.md](MIGRATION.md) äº†è§£è¿ç§»ç»†èŠ‚
- ğŸ› é‡åˆ°é—®é¢˜ï¼Ÿæäº¤ [Issue](https://gitee.com/zjarlin/autoddl-idea-plugin/issues)
- â­ å–œæ¬¢è¿™ä¸ªæ’ä»¶ï¼Ÿç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼

## è”ç³»æˆ‘ä»¬

- Email: zjarlin@outlook.com
- é¡¹ç›®åœ°å€: https://gitee.com/zjarlin/autoddl-idea-plugin

---

**æç¤º**: å°†è¿™ä¸ªæŒ‡å—åˆ†äº«ç»™ä½ çš„å›¢é˜Ÿæˆå‘˜ï¼Œè®©å¤§å®¶éƒ½ç”¨èµ·æ¥ï¼
