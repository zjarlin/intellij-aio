<idea-plugin>
    <id>site.addzero.shitcode</id>

    <name>ShitCode</name>
    <vendor email="zjarlin@outlook.com" url="https://gitee.com/zjarlin/autoddl-idea-plugin.git">zjarlin</vendor>

    <description><![CDATA[
        <h1>ShitCode - 垃圾代码管理工具</h1>
        <p>一个用于标记和管理项目中需要重构代码的 IntelliJ IDEA 插件。</p>
        
        <h2>功能特性</h2>
        <ul>
            <li>使用 @Shit 注解标记需要重构的代码</li>
            <li>在工具窗口中查看所有标记的垃圾代码</li>
            <li>支持 Java 和 Kotlin 代码</li>
            <li>双击可快速导航到代码位置</li>
            <li>支持批量删除标记的代码元素</li>
            <li>可自定义注解名称</li>
        </ul>
        
        <h2>使用方法</h2>
        <ol>
            <li>在需要重构的类、方法、字段或属性上添加 @Shit 注解</li>
            <li>打开右侧的 ShitCode 工具窗口查看所有标记</li>
            <li>双击列表项可快速跳转到对应代码</li>
            <li>使用工具栏按钮删除不需要的代码</li>
        </ol>
        
        <h2>配置</h2>
        <p>在 Settings → Tools → ShitCode 中可以自定义注解名称（默认为 "Shit"）</p>
    ]]></description>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>

    <extensions defaultExtensionNs="com.intellij">
        <!-- 注册设置服务 -->
        <applicationService serviceImplementation="site.addzero.shitcode.settings.ShitCodeSettingsService"/>
        
        <!-- 注册配置页面 -->
        <projectConfigurable 
            instance="site.addzero.shitcode.settings.ShitCodeConfigurable" 
            displayName="ShitCode"
            parentId="tools"/>

        <!-- 注册工具窗口 -->
        <toolWindow id="ShitCode"
                    anchor="right"
                    factoryClass="site.addzero.shitcode.toolwindow.ShitCodeToolWindow"
                    icon="AllIcons.General.Warning"
                    secondary="false"
                    order="last"/>

        <!-- 通知组 -->
        <notificationGroup id="ShitCode Notifications" displayType="BALLOON" isLogByDefault="true"/>
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true"/>
    </extensions>
</idea-plugin>
