<idea-plugin>
    <id>site.addzero.split-module</id>
    <name>Split Module</name>
    <vendor>AddZero</vendor>

    <!-- K2 Compatibility Declaration -->
    <idea-version since-build="242" until-build="262.*"/>

    <description>
        Quickly split files from a Gradle module into a new sibling module.

        Features:
        - Right-click selected files to split into a new module
        - Automatically creates sibling module with same build configuration
        - Automatically adds dependency from source module to new module
        - Preserves file structure and package hierarchy

        Perfect for refactoring large modules into smaller, focused modules.
    </description>

    <depends>com.intellij.modules.platform</depends>
    <depends>org.jetbrains.plugins.gradle</depends>
    <depends>org.jetbrains.kotlin</depends>

    <!-- K2 模式兼容性声明 -->
    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true" />
    </extensions>

    <extensions defaultExtensionNs="com.intellij">
        <!-- Notification Group -->
        <notificationGroup id="SplitModule" displayType="BALLOON" isLogByDefault="true"/>
    </extensions>

    <actions>
        <action id="SplitModule.SplitModuleAction"
                class="site.addzero.split.actions.SplitModuleAction"
                text="Split Module"
                description="Split selected files into a new sibling Gradle module">
            <add-to-group group-id="ProjectViewPopupMenu" anchor="last"/>
        </action>
    </actions>
</idea-plugin>
