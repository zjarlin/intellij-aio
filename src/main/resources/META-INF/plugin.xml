<!-- Plugin Configuration File. Read more: https://plugins.jetbrains.com/docs/intellij/plugin-configuration-file.html -->
<idea-plugin>
    <!-- Unique identifier of the plugin. It should be FQN. It cannot be changed between the plugin versions. -->
    <id>com.addzero.autoddl</id>

    <!-- Public plugin name should be written in Title Case.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-name -->
    <name>AutoDDL</name>
    <!-- A displayed Vendor name or Organization ID displayed on the Plugins Page. -->
    <vendor email="zjarlin@outlook.com" url="https://gitee.com/zjarlin/autoddl-idea-plugin.git">zjarlin</vendor>

    <!-- Description of the plugin displayed on the Plugin Page and IDE Plugin Manager.
         Simple HTML elements (text formatting, paragraphs, and lists) can be added inside of <![CDATA[ ]]> tag.
         Guidelines: https://plugins.jetbrains.com/docs/marketplace/plugin-overview-page.html#plugin-description -->
    <!-- 更新日志，显示在插件详情页的 "What's New" 部分 -->


<!--    <change-notes><![CDATA[-->
<!--]]></change-notes>-->


<!--    <description><![CDATA[-->
<!--<ul>-->
<!--    <include src="DES.md" />-->
<!--    <include src="DES.en.md" />-->

<!--</ul>-->

<!--  ]]></description>-->

    <!-- Product and plugin compatibility requirements.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-compatibility.html -->
    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>
<!--    <depends>com.intellij.database</depends>-->


    <!--    <depends>com.intellij.java</depends>-->
    <!--    <depends>org.jetbrains.kotlin</depends>-->

    <!--    <depends>com.intellij.modules.all</depends>-->

    <!-- Extension points defined by the plugin.
         Read more: https://plugins.jetbrains.com/docs/intellij/plugin-extension-points.html -->
    <!--    <extensions defaultExtensionNs="com.intellij">-->
    <!--        <projectConfigurable instance="com.addzero.addl.settings.MyPluginSettingsConfigurable" displayName="AutoDDL设置"/>-->
    <!--    </extensions>-->

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.addzero.addl.settings.MyPluginSettingsService"/>
        <projectConfigurable instance="com.addzero.addl.settings.MyPluginConfigurable" displayName="AutoDDL设置"/>
        <errorHandler implementation="com.addzero.addl.error.GlobalErrorReporter"/>

        <!-- 添加gradle转versioncatalog操作 intention -->
        <intentionAction>
            <language>kotlin</language>
            <className>com.github.zjarlin.autoddl.intention.ConvertToVersionCatalogIntention</className>
            <category>Java/Kotlin</category>
            <descriptionDirectoryName>ConvertToVersionCatalog</descriptionDirectoryName>
        </intentionAction>

        <!-- 添加字段注释生成枚举类的意图动作 -->
        <intentionAction>
            <language>kotlin</language>
            <className>com.addzero.addl.action.dictgen.intention.GenEnumByFieldCommentIntention</className>
            <category>Java/Kotlin</category>
            <descriptionDirectoryName>GenKotlinEnum</descriptionDirectoryName>
        </intentionAction>

        <intentionAction>
            <language>JAVA</language>
            <className>com.addzero.addl.action.dictgen.intention.GenEnumByFieldCommentIntention</className>
            <category>Java/Kotlin</category>
            <descriptionDirectoryName>GenJavaEnum</descriptionDirectoryName>
        </intentionAction>




<!--        <intentionAction>-->
<!--            <language>JAVA</language>-->
<!--            <language>kotlin</language>-->
<!--            <className>com.addzero.addl.action.dictgen.intention.GenEnumByFieldCommentIntention</className>-->
<!--            <category>Java/Kotlin</category>-->
<!--            <descriptionDirectoryName>GenEnumByFieldComment</descriptionDirectoryName>-->
<!--        </intentionAction>-->



        <!-- 其他配置 -->

        <!-- 注册 Intention Action -->

<!--        <intentionAction>-->
<!--            <language>JAVA</language>-->
<!--            <language>kotlin</language>-->
<!--            <className>com.addzero.addl.action.aitoolwindow.toolwindow.AskAIIntention</className>-->
<!--            <category>Java/Kotlin</category>-->
<!--            <descriptionDirectoryName>AskAIIntention</descriptionDirectoryName>-->
<!--        </intentionAction>-->

        <!-- 注册工具窗口 -->
<!--        <toolWindow-->
<!--                id="AI Chat"-->
<!--                secondary="true"-->
<!--                icon="AllIcons.General.Modified"-->
<!--                anchor="right"-->
<!--                factoryClass="com.addzero.addl.action.aitoolwindow.toolwindow.AIChatToolWindowFactory"/>-->
    </extensions>

    <!--    <extensions defaultExtensionNs="com.intellij">-->
    <!--        <applicationService serviceImplementation="com.addzero.addl.his.HistoryService"/>-->
    <!--    </extensions>-->

    <actions>
        <!-- 主菜单 -->
        <action id="AutoDDL" class="com.addzero.addl.AutoDDL" text="AutoDDL" description="AutoDDL">
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </action>

        <!-- 生成菜单组 -->
        <group id="AutoDDL.GenerateGroup" text="AutoDDL Generate" popup="true">
            <add-to-group group-id="GenerateGroup" anchor="first"/>
<!--            <add-to-group group-id="EditorPopupMenu" anchor="first"/>-->
            <action id="GenAddColumnByThis"
                    class="com.addzero.addl.action.GenDDL"
                    text="GenDDL"
                    description="GenDDL">
                <!--                <keyboard-shortcut keymap="$default" first-keystroke="ctrl ENTER"/>-->
            </action>


            <action id="GenJimmerDTO"
                    class="com.addzero.addl.action.anycodegen.impl.GenJimmerDTO"
                    text="GenJimmerDTO"
                    description="GenJimmerDTO"/>

<!--            <action id="GenJimmerController"-->
<!--                    class="com.addzero.addl.action.anycodegen.impl.GenJimmerController"-->
<!--                    text="GenJimmerController"-->
<!--                    description="GenJimmerController"/>-->

            <action id="GenExcelDTO"
                    class="com.addzero.addl.action.anycodegen.impl.GenExcelDTO"
                    text="GenExcelDTO"
                    description="GenExcelDTO"/>

<!--            <action id="GenStructuredOutput"-->
<!--                    class="StructuredOutput"-->
<!--                    text="GenStructuredOutput"-->
<!--                    description="GenStructuredOutput"/>-->
        </group>

        <!-- 数据库视图菜单组 -->
<!--        <group id="AutoDDL.DatabaseGroup" text="AutoDDL Database" popup="true">-->
<!--            <add-to-group group-id="DatabaseViewPopupMenu" anchor="first"/>-->

<!--            <action id="AutoDDL.WithDB.Generate"-->
<!--                    class="com.addzero.addl.action.autoddlwithdb.AutoDDLAction"-->
<!--                    text="Entities DDL Generator"-->
<!--                    description="Generate and sync database tables from entity package"/>-->

<!--            <action id="DictEnum.Generate"-->
<!--                    class="com.addzero.addl.action.dictgen.DictEnumGenerateAction"-->
<!--                    text="Enums Generator"-->
<!--                    description="Generate enum classes from dictionary tables"/>-->
<!--        </group>-->
    </actions>
</idea-plugin>