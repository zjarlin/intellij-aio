<idea-plugin>
    <id>com.addzero.autoddl</id>

    <name>AutoDDL</name>
    <vendor email="zjarlin@outlook.com" url="https://gitee.com/zjarlin/autoddl-idea-plugin.git">zjarlin</vendor>

    <depends>com.intellij.modules.platform</depends>
    <depends>com.intellij.java</depends>
    <depends>org.jetbrains.kotlin</depends>

    <extensions defaultExtensionNs="com.intellij">
        <applicationService serviceImplementation="com.addzero.addl.settings.MyPluginSettingsService"/>
        <projectConfigurable instance="com.addzero.addl.settings.MyPluginConfigurable" displayName="AutoDDL设置"/>

        <!-- 注册垃圾代码工具窗口 -->
        <toolWindow id="ShitCode"
                    anchor="right"
                    factoryClass="com.addzero.addl.toolwindow.ShitCodeToolWindow"
                    icon="AllIcons.General.Remove"
                    secondary="false"
                    order="last"/>


<!--        <intentionAction>-->
<!--            <language>kotlin</language>-->
<!--            <className>com.addzero.addl.intention.RemoveShitCodeIntention</className>-->
<!--            <category>Java/Kotlin</category>-->
<!--        </intentionAction>-->

        <!-- 添加字段注释生成枚举类的意图动作 -->
        <!--        <intentionAction>-->
        <!--            <language>kotlin</language>-->
        <!--            <className>com.addzero.addl.action.dictgen.intention.GenEnumByFieldCommentIntention</className>-->
        <!--            <category>Java/Kotlin</category>-->
        <!--&lt;!&ndash;            <descriptionDirectoryName>GenKotlinEnum</descriptionDirectoryName>&ndash;&gt;-->
        <!--        </intentionAction>-->

        <!--        swagger意图-->

        <!-- 注册启动监听器，用于动态注册意图动作 -->
        <postStartupActivity implementation="com.reg.AddActionAndIntentions"/>


        <!--        <intentionAction>-->
        <!--            <language>JAVA</language>-->
        <!--            <language>kotlin</language>-->
        <!--            <className>com.addzero.addl.action.dictgen.intention.GenEnumByFieldCommentIntention</className>-->
        <!--            <category>Java/Kotlin</category>-->
        <!--            <descriptionDirectoryName>GenEnumByFieldComment</descriptionDirectoryName>-->
        <!--        </intentionAction>-->


        <!-- 其他配置 -->

        <!-- 注册 Intention Action -->

        <!--        <intentionAction>-->
        <!--            <language>JAVA</language>-->
        <!--            <language>kotlin</language>-->
        <!--            <className>com.addzero.addl.action.aitoolwindow.toolwindow.AskAIIntention</className>-->
        <!--            <category>Java/Kotlin</category>-->
        <!--            <descriptionDirectoryName>AskAIIntention</descriptionDirectoryName>-->
        <!--        </intentionAction>-->

        <!-- 注册工具窗口 -->
        <!--        <toolWindow-->
        <!--                id="AI Chat"-->
        <!--                secondary="true"-->
        <!--                icon="AllIcons.General.Modified"-->
        <!--                anchor="right"-->
        <!--                factoryClass="com.addzero.addl.action.aitoolwindow.toolwindow.AIChatToolWindowFactory"/>-->
    </extensions>

    <extensions defaultExtensionNs="org.jetbrains.kotlin">
        <supportsKotlinPluginMode supportsK2="true"/>
    </extensions>

    <!--   <extensions defaultExtensionNs="org.jetbrains.kotlin">-->
    <!--    <supportsKotlinPluginMode supportsK1="false" supportsK2="true" />-->
    <!--</extensions> -->
    <!--    <extensions defaultExtensionNs="com.intellij">-->
    <!--        <applicationService serviceImplementation="com.addzero.addl.his.HistoryService"/>-->
    <!--    </extensions>-->

    <!--    <actions>-->
    <!--        &lt;!&ndash; 主菜单 &ndash;&gt;-->
    <!--        <action id="AutoDDL" class="com.addzero.addl.AutoDDL">-->
    <!--            <add-to-group group-id="ToolsMenu" anchor="first"/>-->
    <!--        </action>-->

    <!--        &lt;!&ndash; 生成菜单组 &ndash;&gt;-->
    <!--        <group id="AutoDDL.GenerateGroup" popup="true">-->
    <!--            <add-to-group group-id="GenerateGroup" anchor="first"/>-->
    <!--            &lt;!&ndash;            <add-to-group group-id="EditorPopupMenu" anchor="first"/>&ndash;&gt;-->
    <!--            <action id="GenDDL"-->
    <!--                    class="com.addzero.addl.action.GenDDL">-->
    <!--                &lt;!&ndash;                <keyboard-shortcut keymap="$default" first-keystroke="ctrl ENTER"/>&ndash;&gt;-->
    <!--            </action>-->


    <!--            <action id="GenJimmerDTO"-->
    <!--                    class="com.addzero.addl.action.anycodegen.impl.GenJimmerDTO"/>-->

    <!--            <action id="GenController"-->
    <!--                    class="com.addzero.addl.action.anycodegen.impl.GenController"/>-->

    <!--            <action id="GenExcelDTO"-->
    <!--                    class="com.addzero.addl.action.anycodegen.impl.GenExcelDTO"/>-->

    <!--            &lt;!&ndash;            <action id="GenStructuredOutput"&ndash;&gt;-->
    <!--            &lt;!&ndash;                    class="StructuredOutput"&ndash;&gt;-->
    <!--            &lt;!&ndash;                    text="GenStructuredOutput"&ndash;&gt;-->
    <!--            &lt;!&ndash;                    description="GenStructuredOutput"/>&ndash;&gt;-->
    <!--        </group>-->

    <!--        &lt;!&ndash; 数据库视图菜单组 &ndash;&gt;-->
    <!--        &lt;!&ndash;        <group id="AutoDDL.DatabaseGroup" text="AutoDDL Database" popup="true">&ndash;&gt;-->
    <!--        &lt;!&ndash;            <add-to-group group-id="DatabaseViewPopupMenu" anchor="first"/>&ndash;&gt;-->

    <!--        &lt;!&ndash;            <action id="AutoDDL.WithDB.Generate"&ndash;&gt;-->
    <!--        &lt;!&ndash;                    class="com.addzero.addl.action.autoddlwithdb.AutoDDLAction"&ndash;&gt;-->
    <!--        &lt;!&ndash;                    text="Entities DDL Generator"&ndash;&gt;-->
    <!--        &lt;!&ndash;                    description="Generate and sync database tables from entity package"/>&ndash;&gt;-->

    <!--        &lt;!&ndash;            <action id="DictEnum.Generate"&ndash;&gt;-->
    <!--        &lt;!&ndash;                    class="com.addzero.addl.action.dictgen.DictEnumGenerateAction"&ndash;&gt;-->
    <!--        &lt;!&ndash;                    text="Enums Generator"&ndash;&gt;-->
    <!--        &lt;!&ndash;                    description="Generate enum classes from dictionary tables"/>&ndash;&gt;-->
    <!--        &lt;!&ndash;        </group>&ndash;&gt;-->
    <!--    </actions>-->

    <actions>
        <!-- 主菜单 -->
        <action id="AutoDDL" class="com.addzero.addl.AutoDDL">
            <add-to-group group-id="ToolsMenu" anchor="first"/>
        </action>

        <!-- 生成菜单组 -->
        <group id="AutoDDL.GenerateGroup" popup="true">
            <add-to-group group-id="GenerateGroup" anchor="first"/>
            <!--            <add-to-group group-id="EditorPopupMenu" anchor="first"/>-->
            <action id="GenDDL"
                    class="com.addzero.addl.action.GenDDL">
                <!--                <keyboard-shortcut keymap="$default" first-keystroke="ctrl ENTER"/>-->
            </action>


            <action id="GenJimmerDTO"
                    class="com.addzero.addl.action.anycodegen.impl.GenJimmerDTO"/>

            <action id="GenController"
                    class="com.addzero.addl.action.anycodegen.impl.GenController"/>

            <action id="GenExcelDTO"
                    class="com.addzero.addl.action.anycodegen.impl.GenExcelDTO"/>

            <!--            <action id="GenStructuredOutput"-->
            <!--                    class="StructuredOutput"-->
            <!--                    text="GenStructuredOutput"-->
            <!--                    description="GenStructuredOutput"/>-->
        </group>

        <!-- 数据库视图菜单组 -->
        <!--        <group id="AutoDDL.DatabaseGroup" text="AutoDDL Database" popup="true">-->
        <!--            <add-to-group group-id="DatabaseViewPopupMenu" anchor="first"/>-->

        <!--            <action id="AutoDDL.WithDB.Generate"-->
        <!--                    class="com.addzero.addl.action.autoddlwithdb.AutoDDLAction"-->
        <!--                    text="Entities DDL Generator"-->
        <!--                    description="Generate and sync database tables from entity package"/>-->

        <!--            <action id="DictEnum.Generate"-->
        <!--                    class="com.addzero.addl.action.dictgen.DictEnumGenerateAction"-->
        <!--                    text="Enums Generator"-->
        <!--                    description="Generate enum classes from dictionary tables"/>-->
        <!--        </group>-->
    </actions>


    <resource-bundle>application</resource-bundle>
</idea-plugin>
